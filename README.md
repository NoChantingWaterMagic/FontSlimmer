# FontSlimmer
## TTF字体子集化工具

### 目录
- [项目特点](#特点)
- [开始之前](#开始之前)
- [项目内容](#本项目包含两个内容)
- [背景和实用性](#背景)
- [未来改进](#以后还会改进的)
- [实际使用场景](#附实际使用场景)

### 项目特点：
1. **非常友好，有图形界面**。哥们文科生被逼急了才搞这个，肯定能让各位看懂好吧。readme一大堆实际用起来pycharm里右键运行没了。
2. **非常自由**。我用其它工具的时候有些非要你把所有的字体全部找齐才可以启动子集化，有些字体就用个几个字或者非常难找真是把哥们急死了。所以这个工具无任何这方面的限制，全看你自己，按需子集化。
3. **不破坏原字体的元数据信息**。不会生成新的奇怪的FontName和FontFamily，子集化完毕后马上就能缝能用，也方便想找字体的兄弟们可以找原字体。

### 开始之前：
你需要能运行python的环境，并且安装好需要的运行库：
- `tkinter`
- `os`
- `fontTools`

### 本项目包含两个内容：
- **ASSInfoShow**：**批量获取汇总 `.ass` 文件中提到的所有字体和字符信息**，并且输出一个 `.txt` 文件包含上述两部分内容。
- **FontSlimmer**：批量读取TTF格式字体，接着手动加载并读取 `ASSInfoShow` 生成的 `.txt` 文件，**最后根据txt文件中包含的字符对字体进行最优子集化**。

完成后再用 `MKVToolNix` 之类的工具把子集化后的字体缝进视频即可。

今天先上传 `ASSInfoShow`，右键运行即可。点击加载 `ASS` 文件选择字幕文件，点击导出可以在指定的路径生成一个 `.txt` 的信息汇总。后面会用到的。

### 背景：
我认为**好看合适的字体也是观影体验的一部分**。本人看动画片/影视剧的习惯是先下载下来，然后用 `infuse`、`jellyfin`、`emby` 之类的在线媒体库进行观看。而这些媒体库软件大多数都是无法加载外部字体的，所以我们需要 `MKVToolsNix` 自己手动把字体文件缝合进去。但是字体提供商提供的完整版字体通常包含了太多的字型，可能一集视频光字幕都有好几百MB的体积。这无论是对加载速度还是小水管的传输速度都是极大的挑战，实测下来30mbps的小水管加载个需要调用上百兆字体的字幕需要好几分钟还很容易弹失败，真是**非常糟糕的体验**。为了解决这个问题所以有了本项目。

**希望能帮到你！后续会对易用性进行优化，也许再加一些功能**

#### 附：实际使用场景

![4LICJ 2K_%YS73D9ZV0N {X](https://github.com/NoChantingWaterMagic/FontSlimmer/assets/120241623/1f22c1dd-6c0a-467b-bd35-7943fe1238b9)

![R13M0({~I@Q(G 4EZ(`V~3V](https://github.com/NoChantingWaterMagic/FontSlimmer/assets/120241623/afef5caa-0f47-44a2-87a0-69f163f4c511)

![QQ截图20240407221439](https://github.com/NoChantingWaterMagic/FontSlimmer/assets/120241623/10322f1b-9cad-46a9-8c81-4f7f6820cf26)


